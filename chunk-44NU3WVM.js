import{a as D}from"./chunk-M3JUVVGC.js";import{a as z,b as L,c as P,d as T,e as U,g as N,k as R,m as A,s as j,u as G}from"./chunk-MX4KUDWC.js";import{a as E}from"./chunk-436D5II3.js";import{$ as r,B as g,Ba as S,D as d,Da as k,E as f,Ea as I,Ha as F,I as l,O as c,P as n,Q as e,R as s,U as x,V as _,W as C,Z as M,aa as v,ba as p,ca as b,n as u,o as O,sa as h,ta as y,wa as w}from"./chunk-WMLQJRSY.js";function q(a,i){if(a&1&&(n(0,"div",27),r(1),e()),a&2){let t=C();g(),p(" ",t.message," ")}}function $(a,i){a&1&&(n(0,"div",28),r(1," Username is required "),e())}function H(a,i){a&1&&(n(0,"div",28),r(1," Password is required "),e())}function J(a,i){a&1&&s(0,"span",29)}function W(a,i){if(a&1&&(n(0,"div",30),r(1),e()),a&2){let t=C();g(),p(" ",t.errorMessage," ")}}function Y(a,i){if(a&1){let t=x();n(0,"div",31),_("click",function(){let m=u(t).$implicit,B=C();return O(B.fillDemoCredentials(m))}),n(1,"div",32)(2,"strong"),r(3),e(),n(4,"span"),r(5),e()(),n(6,"button",33),r(7,"Use"),e()()}if(a&2){let t=i.$implicit;g(3),v(t.name),g(2),b("",t.username," / ",t.password)}}var V=class a{constructor(i,t,o,m){this.fb=i;this.router=t;this.route=o;this.demoDataService=m;this.loginForm=this.fb.group({username:["",[P.required]],password:["",[P.required]],rememberMe:[!1]})}loginForm;showPassword=!1;isLoading=!1;errorMessage="";returnUrl="/profile";message="";demoAccounts=[{name:"Alex Martinez",username:"alex.martinez",password:"tennis123"},{name:"Sarah van der Berg",username:"sarah.berg",password:"tennis456"},{name:"Marco Rossi",username:"marco.rossi",password:"tennis789"}];ngOnInit(){let i=localStorage.getItem("currentUser");console.log("Login component initialized. Current user:",i),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/profile",this.message=this.route.snapshot.queryParams.message||"",i?(console.log("User already logged in, redirecting to:",this.returnUrl),this.router.navigateByUrl(this.returnUrl)):console.log("No user found, staying on login page")}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let{username:i,password:t}=this.loginForm.value;setTimeout(()=>{let o=this.demoDataService.validateLogin(i,t);o.success&&o.profile?(localStorage.setItem("currentUser",JSON.stringify({id:o.userId,username:i,profile:o.profile})),this.router.navigateByUrl(this.returnUrl)):this.errorMessage="Invalid username or password. Please try again.",this.isLoading=!1},1e3)}else this.markFormGroupTouched()}fillDemoCredentials(i){this.loginForm.patchValue({username:i.username,password:i.password}),this.errorMessage=""}togglePassword(){this.showPassword=!this.showPassword}isFieldInvalid(i){let t=this.loginForm.get(i);return!!(t&&t.invalid&&(t.dirty||t.touched))}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(i=>{this.loginForm.get(i)?.markAsTouched()})}static \u0275fac=function(t){return new(t||a)(d(j),d(k),d(S),d(D))};static \u0275cmp=f({type:a,selectors:[["app-login"]],decls:47,vars:15,consts:[[1,"login-page"],[1,"container"],[1,"login-card"],[1,"login-header"],["class","info-message",4,"ngIf"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Enter your username or email",1,"form-input"],["class","error-message",4,"ngIf"],["for","password"],[1,"password-input"],["id","password","formControlName","password","placeholder","Enter your password",1,"form-input",3,"type"],["type","button",1,"password-toggle",3,"click"],[1,"form-options"],[1,"checkbox-label"],["type","checkbox","formControlName","rememberMe"],[1,"checkmark"],["href","#",1,"forgot-password"],["type","submit",1,"btn","btn-primary","btn-login",3,"disabled"],["class","loading-spinner",4,"ngIf"],["class","error-alert",4,"ngIf"],[1,"login-footer"],["routerLink","/register",1,"register-link"],[1,"demo-credentials"],[1,"demo-accounts"],["class","demo-account",3,"click",4,"ngFor","ngForOf"],[1,"info-message"],[1,"error-message"],[1,"loading-spinner"],[1,"error-alert"],[1,"demo-account",3,"click"],[1,"account-info"],["type","button",1,"btn-demo"]],template:function(t,o){t&1&&(s(0,"app-header"),n(1,"main",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"h1"),r(6,"Welcome Back"),e(),n(7,"p"),r(8,"Sign in to your TennisConnect account"),e(),l(9,q,2,1,"div",4),e(),n(10,"form",5),_("ngSubmit",function(){return o.onSubmit()}),n(11,"div",6)(12,"label",7),r(13,"Username or Email"),e(),s(14,"input",8),l(15,$,2,0,"div",9),e(),n(16,"div",6)(17,"label",10),r(18,"Password"),e(),n(19,"div",11),s(20,"input",12),n(21,"button",13),_("click",function(){return o.togglePassword()}),r(22),e()(),l(23,H,2,0,"div",9),e(),n(24,"div",14)(25,"label",15),s(26,"input",16)(27,"span",17),r(28," Remember me "),e(),n(29,"a",18),r(30,"Forgot password?"),e()(),n(31,"button",19),l(32,J,1,0,"span",20),r(33),e(),l(34,W,2,1,"div",21),e(),n(35,"div",22)(36,"p"),r(37,"Don't have an account? "),n(38,"a",23),r(39,"Sign up/ Register"),e()()(),n(40,"div",24)(41,"h3"),r(42,"Demo Accounts"),e(),n(43,"p"),r(44,"Try these demo accounts to test the application:"),e(),n(45,"div",25),l(46,Y,8,3,"div",26),e()()()()()),t&2&&(g(9),c("ngIf",o.message),g(),c("formGroup",o.loginForm),g(4),M("error",o.isFieldInvalid("username")),g(),c("ngIf",o.isFieldInvalid("username")),g(5),M("error",o.isFieldInvalid("password")),c("type",o.showPassword?"text":"password"),g(2),p(" ",o.showPassword?"\u{1F648}":"\u{1F441}\uFE0F"," "),g(),c("ngIf",o.isFieldInvalid("password")),g(8),c("disabled",o.loginForm.invalid||o.isLoading),g(),c("ngIf",o.isLoading),g(),p(" ",o.isLoading?"Signing in...":"Sign In"," "),g(),c("ngIf",o.errorMessage),g(12),c("ngForOf",o.demoAccounts))},dependencies:[w,h,y,G,N,L,z,T,U,R,A,F,I,E],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8fafc,#e2e8f0);display:flex;align-items:center;padding:40px 0}.login-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:450px;margin:0 auto;padding:0 20px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:40px;box-shadow:0 20px 40px #0000001a;border:1px solid rgba(255,255,255,.2)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--gray-900);margin:0 0 8px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-600);font-size:1rem;margin:0}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{background:#dbeafe;border:1px solid #93c5fd;color:#1e40af;padding:12px 16px;border-radius:8px;margin-top:16px;font-size:.875rem;font-weight:500}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--gray-700);margin-bottom:8px;font-size:.875rem}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:16px;border:2px solid var(--gray-200);border-radius:12px;font-size:1rem;transition:all .3s ease;box-sizing:border-box}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px #10b9811a}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input.error[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:var(--gray-400)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{position:relative}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:1.2rem;padding:4px;border-radius:4px;transition:all .3s ease}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{background:var(--gray-100)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;margin-top:6px;display:block}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;font-size:.875rem;color:var(--gray-600)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;accent-color:var(--primary)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-size:.875rem;font-weight:500}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .form-options[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1rem;font-weight:600;border-radius:12px;border:none;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]   .error-alert[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:12px 16px;border-radius:8px;margin-top:16px;font-size:.875rem}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:24px;padding-top:24px;border-top:1px solid var(--gray-200)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-600);font-size:.875rem;margin:0}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]{color:var(--primary);text-decoration:none;font-weight:600}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .register-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:1px solid var(--gray-200)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--gray-900);margin:0 0 8px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--gray-600);font-size:.875rem;margin:0 0 16px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--gray-50);border-radius:8px;cursor:pointer;transition:all .3s ease;border:1px solid var(--gray-200)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]:hover{background:var(--gray-100);border-color:var(--primary)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-900)}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .account-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--gray-600);font-family:monospace}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .btn-demo[_ngcontent-%COMP%]{padding:6px 12px;background:var(--primary);color:#fff;border:none;border-radius:6px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .3s ease}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .btn-demo[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 480px){.login-page[_ngcontent-%COMP%]{padding:20px 0}.login-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 16px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{padding:24px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.login-page[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .demo-credentials[_ngcontent-%COMP%]   .demo-accounts[_ngcontent-%COMP%]   .demo-account[_ngcontent-%COMP%]   .btn-demo[_ngcontent-%COMP%]{align-self:flex-end}}"]})};export{V as LoginComponent};

<header class="header" [class.dark-theme]="isDarkTheme" [class.scrolled]="isScrolled">
  <div class="header-container">
    <div class="logo-section">
      <a routerLink="/" class="logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L13.09 8.26L20 9L13.09 9.74L12 16L10.91 9.74L4 9L10.91 8.26L12 2Z" fill="currentColor"/>
          </svg>
        </div>
        <span class="logo-text">TennisConnect</span>
      </a>
    </div>

    <nav class="nav-desktop" [class.hidden]="isMobileMenuOpen">
      <ul class="nav-list">
        <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a></li>
        <li><a routerLink="/find-partner" routerLinkActive="active">Find Partner</a></li>
        <li><a routerLink="/find-court" routerLinkActive="active">Find Court</a></li>
        <li><a routerLink="/profile" routerLinkActive="active">Profile</a></li>
      </ul>
    </nav>

    <div class="header-actions">
      <button class="theme-toggle" (click)="toggleTheme()" [attr.aria-label]="isDarkTheme ? 'Switch to light theme' : 'Switch to dark theme'">
        <svg *ngIf="!isDarkTheme" class="theme-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 3C7.03 3 3 7.03 3 12C3 16.97 7.03 21 12 21C16.97 21 21 16.97 21 12C21 7.03 16.97 3 12 3ZM12 19C8.13 19 5 15.87 5 12C5 8.13 8.13 5 12 5C15.87 5 19 8.13 19 12C19 15.87 15.87 19 12 19Z" fill="currentColor"/>
          <path d="M12 7C9.24 7 7 9.24 7 12C7 14.76 9.24 17 12 17C14.76 17 17 14.76 17 12C17 9.24 14.76 7 12 7Z" fill="currentColor"/>
        </svg>
        <svg *ngIf="isDarkTheme" class="theme-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L19 8L17 7V9L19 8L21 9ZM12 18C10.9 18 10 18.9 10 20C10 21.1 10.9 22 12 22C13.1 22 14 21.1 14 20C14 18.9 13.1 18 12 18ZM3 9V7L5 8L7 7V9L5 8L3 9ZM5 16L3 17V19L5 18L7 19V17L5 16ZM19 16L17 17V19L19 18L21 19V17L19 16Z" fill="currentColor"/>
        </svg>
      </button>

      <div class="auth-buttons">
        <ng-container *ngIf="!isLoggedIn(); else loggedInButtons">
          <a routerLink="/login" class="btn btn-login">Login</a>
          <a routerLink="/register" class="btn btn-register">Register</a>
        </ng-container>
        <ng-template #loggedInButtons>
          <button class="btn btn-logout" (click)="logout()">Logout</button>
        </ng-template>
      </div>

      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [attr.aria-label]="isMobileMenuOpen ? 'Close menu' : 'Open menu'">
        <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
        <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
        <span class="hamburger-line" [class.active]="isMobileMenuOpen"></span>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation Menu -->
  <nav class="nav-mobile" [class.open]="isMobileMenuOpen">
    <ul class="nav-list-mobile">
      <li><a routerLink="/" (click)="closeMobileMenu()" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a></li>
      <li><a routerLink="/find-partner" (click)="closeMobileMenu()" routerLinkActive="active">Find Partner</a></li>
      <li><a routerLink="/find-court" (click)="closeMobileMenu()" routerLinkActive="active">Find Court</a></li>
      <li><a routerLink="/profile" (click)="closeMobileMenu()" routerLinkActive="active">Profile</a></li>
      <li class="mobile-auth">
        <ng-container *ngIf="!isLoggedIn(); else mobileLoggedInButtons">
          <a routerLink="/login" (click)="closeMobileMenu()" class="mobile-auth-btn login-btn" title="Login">
            <svg class="auth-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 3H19C20.1 3 21 3.9 21 5V19C21 20.1 20.1 21 19 21H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 17L15 12L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 12H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Login</span>
          </a>
          <a routerLink="/register" (click)="closeMobileMenu()" class="mobile-auth-btn register-btn" title="Register">
            <svg class="auth-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16 21V19C16 17.9391 15.5786 16.9217 14.8284 16.1716C14.0783 15.4214 13.0609 15 12 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="8.5" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M20 8V14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M23 11H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Register</span>
          </a>
        </ng-container>
        <ng-template #mobileLoggedInButtons>
          <button class="mobile-auth-btn logout-btn" (click)="logout(); closeMobileMenu()" title="Logout">
            <svg class="auth-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M16 17L21 12L16 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Logout</span>
          </button>
        </ng-template>
      </li>
    </ul>
  </nav>
</header>
